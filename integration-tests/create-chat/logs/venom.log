Jul 25 14:59:00.713 [ERRO] file content: - name: Create chat success
  steps:
  - type: http
    method: POST
    url: "https://alpha.c930.net/api/chats"
    headers:
      Content-Type: application/json
      Authorization: "Bearer eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9.eyJyZWZyZXNoIjpmYWxzZSwidXNlcm5hbWUiOiJhcmRhZ29hdDEyMzQiLCJpc3MiOiJhbHBoYS1hcGktZ2F0ZXdheSIsInN1YiI6ImFyZGFnb2F0MTIzNCIsImF1ZCI6WyJzZXJ2ZXItYWxwaGEiXSwiZXhwIjoxNzIwNjI1MzQwLCJpYXQiOjE3MjA1Mzg5NDB9.hy9wEi_GvDXWuXyMBsymMTrZYgip4jg_deVkpnL2yzIu2lJKr0lg2kmQP8NGylYxkibO0oF1qubOSLoP7b93Ag"
    body: |
      {
        "username": "oranje",
        "content": "hello from the other side"
      }
    assertions:
    - result.statuscode ShouldEqual 201
    - result.body.message.content ShouldNotBeEmpty
    - result.body.message.username ShouldEqual "oranje"
    - result.body.message.creationDate ShouldNotBeEmpty

- name: Create chat Bad Request
  steps:
  - type: http
    method: POST
    url: "https://alpha.c930.net/api/chats"
    headers:
      Content-Type: application/json
      Authorization: "Bearer eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9.eyJyZWZyZXNoIjpmYWxzZSwidXNlcm5hbWUiOiJhcmRhZ29hdDEyMzQiLCJpc3MiOiJhbHBoYS1hcGktZ2F0ZXdheSIsInN1YiI6ImFyZGFnb2F0MTIzNCIsImF1ZCI6WyJzZXJ2ZXItYWxwaGEiXSwiZXhwIjoxNzIwNjI1MzQwLCJpYXQiOjE3MjA1Mzg5NDB9.hy9wEi_GvDXWuXyMBsymMTrZYgip4jg_deVkpnL2yzIu2lJKr0lg2kmQP8NGylYxkibO0oF1qubOSLoP7b93Ag"
    body: |
      {
        "username": "",
        "content": "hello from the other side"
      }
    assertions:
    - result.statuscode ShouldEqual 400
    - result.body.error.title ShouldEqual "BadRequest"
    - result.body.error.code ShouldEqual "ERR-001"
    - result.body.error.message ShouldEqual "The request body is invalid. Please check the request body and try again."
    - result.body.error.http_status ShouldEqual 400

- name: Create chat Unauthorized
  steps:
  - type: http
    method: POST
    url: "https://alpha.c930.net/api/chats"
    headers:
      Content-Type: application/json
    body: |
      {
        "username": "oranje",
        "content": "hello from the other side"
      }
    assertions:
    - result.statuscode ShouldEqual 401
    - result.body.error.title ShouldEqual "Unauthorized"
    - result.body.error.code ShouldEqual "ERR-014"
    - result.body.error.message ShouldEqual "The request is unauthorized. Please login to your account."
    - result.body.error.http_status ShouldEqual 401

- name: Create chat User Not Found
  steps:
  - type: http
    method: POST
    url: "https://alpha.c930.net/api/chats"
    headers:
      Content-Type: application/json
      Authorization: "Bearer eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9.eyJyZWZyZXNoIjpmYWxzZSwidXNlcm5hbWUiOiJhcmRhZ29hdDEyMzQiLCJpc3MiOiJhbHBoYS1hcGktZ2F0ZXdheSIsInN1YiI6ImFyZGFnb2F0MTIzNCIsImF1ZCI6WyJzZXJ2ZXItYWxwaGEiXSwiZXhwIjoxNzIwNjI1MzQwLCJpYXQiOjE3MjA1Mzg5NDB9.hy9wEi_GvDXWuXyMBsymMTrZYgip4jg_deVkpnL2yzIu2lJKr0lg2kmQP8NGylYxkibO0oF1qubOSLoP7b93Ag"
    body: |
      {
        "username": "nonexistentuser",
        "content": "hello from the other side"
      }
    assertions:
    - result.statuscode ShouldEqual 404
    - result.body.error.title ShouldEqual "UserNotFound"
    - result.body.error.code ShouldEqual "ERR-004"
    - result.body.error.message ShouldEqual "The user was not found. Please check the username and try again."
    - result.body.error.http_status ShouldEqual 404

- name: Create chat Conflict Chat Already Exists
  steps:
  - type: http
    method: POST
    url: "https://alpha.c930.net/api/chats"
    headers:
      Content-Type: application/json
      Authorization: "Bearer eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9.eyJyZWZyZXNoIjpmYWxzZSwidXNlcm5hbWUiOiJhcmRhZ29hdDEyMzQiLCJpc3MiOiJhbHBoYS1hcGktZ2F0ZXdheSIsInN1YiI6ImFyZGFnb2F0MTIzNCIsImF1ZCI6WyJzZXJ2ZXItYWxwaGEiXSwiZXhwIjoxNzIwNjI1MzQwLCJpYXQiOjE3MjA1Mzg5NDB9.hy9wEi_GvDXWuXyMBsymMTrZYgip4jg_deVkpnL2yzIu2lJKr0lg2kmQP8NGylYxkibO0oF1qubOSLoP7b93Ag"
    body: |
      {
        "username": "oranje",
        "content": "hello from the other side"
      }
    assertions:
    - result.statuscode ShouldEqual 409
    - result.body.error.title ShouldEqual "ChatAlreadyExists"
    - result.body.error.code ShouldEqual "ERR-026"
    - result.body.error.message ShouldEqual "The chat already exists. Please check the username and try again."
    - result.body.error.http_status ShouldEqual 409
